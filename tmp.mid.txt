    const label = li.querySelector('.todo');    const actions = li.querySelector('.item-actions');    const textSpan = li.querySelector('.text');    const inputEdit = document.createElement('input');    inputEdit.type = 'text';    inputEdit.value = item.text;    inputEdit.className = 'text-input';    inputEdit.setAttribute('aria-label', 'Editar tarefa');    // Replace text with input    label.replaceChild(inputEdit, textSpan);    inputEdit.focus();    inputEdit.setSelectionRange(item.text.length, item.text.length);    // Temporarily disable buttons while editing    actions.querySelectorAll('button').forEach(b => b.setAttribute('disabled', 'true'));    const commit = () => {      const newText = inputEdit.value;      // Restore UI first to keep focus behavior smooth      label.replaceChild(textSpan, inputEdit);      actions.querySelectorAll('button').forEach(b => b.removeAttribute('disabled'));      editItem(item.id, newText);    };    const cancel = () => {      label.replaceChild(textSpan, inputEdit);      actions.querySelectorAll('button').forEach(b => b.removeAttribute('disabled'));    };    inputEdit.addEventListener('keydown', (e) => {      if (e.key === 'Enter') commit();      else if (e.key === 'Escape') cancel();    });    inputEdit.addEventListener('blur', commit);  }  // Events  form.addEventListener('submit', (e) => {    e.preventDefault();    addItem(input.value);    input.value = '';    input.focus();  });  btnsFilter.forEach(btn => btn.addEventListener('click', () => setFilter(btn.dataset.filter)));  clearCompletedBtn.addEventListener('click', clearCompleted);  // Init  load();  render();  function refreshRelativeTimes(){    document.querySelectorAll('time.meta[data-ts]').forEach((el) => {      const ts = Number(el.getAttribute('data-ts'));      const kind = el.getAttribute('data-kind') || '';      if (!Number.isNaN(ts)) {        el.textContent = `${kind} ${relativeTime(ts)}`;        el.title = formatDateTime(ts);      }    });  }  refreshRelativeTimes();  setInterval(refreshRelativeTimes, 60000);})();